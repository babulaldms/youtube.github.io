<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <title>Follow the Steps</title>
    <style type="text/css">
        #big_box
        {
            width: 310px;
            height: 370px;
            background-color: black;
            margin :auto;
            cursor: pointer;
            border-style: solid;
            border-color: black;
            border-width: 5px;
            overflow-y: hidden;
            position: relative;
        }
        .small_box
        {
            width: 75px;
            height: 90px;
            background-color: white;
            cursor: pointer;
            border-style: solid;
            border-color: grey;
            border-width: 1px;
            position: absolute;
        }

    </style>
   
  </head>
  <body onload="boxes()">
    <div id="tap">
    <h5 class="mt-2" style="text-align: center;">Follow the Steps<p id="p"></p></h5>
    <h5 style="text-align: center;">Move Down for rules</h5>
    <button class="btn btn-dark mb-2" style="width: 40%;margin-left: 30%;" onclick="start()">Start</button>
    <div id="big_box" class="mb-5">
        <div id="move_box1" class="small_box" onclick="check(1)"  >
        </div>
        <div id="move_box2" class="small_box" onclick="check(2)"  >
        </div>
        <div id="move_box3" class="small_box" onclick="check(3)" >
        </div>
        <div id="move_box4" class="small_box" onclick="check(4)"  >
        </div>
        <div id="move_box5" class="small_box" onclick="check(5)"  >
        </div>
        <div id="move_box6" class="small_box" onclick="check(6)"  >
        </div>
        <div id="move_box7" class="small_box" onclick="check(7)"  >
        </div>
        <div id="move_box8" class="small_box" onclick="check(8)"  >
        </div> 
        <div id="move_box9" class="small_box" onclick="check(9)"  >
        </div>
        <div id="move_box10" class="small_box" onclick="check(10)" >
        </div>
        <div id="move_box11" class="small_box" onclick="check(11)" >
        </div>
        <div id="move_box12" class="small_box" onclick="check(12)"  >
        </div>
        <div id="move_box13" class="small_box" onclick="check(13)" >
        </div>
        <div id="move_box14" class="small_box" onclick="check(14)"  >
        </div>
        <div id="move_box15" class="small_box" onclick="check(15)"  >
        </div>
        <div id="move_box16" class="small_box" onclick="check(16)"  >
        </div>
        <div id="move_box17" class="small_box" onclick="check(17)"  >
        </div>
        <div id="move_box18" class="small_box" onclick="check(18)"  >
        </div> 
        <div id="move_box19" class="small_box" onclick="check(19)"  >
        </div>
        <div id="move_box20" class="small_box" onclick="check(20)" >
        </div>
    </div>
</div>

<div class="container shadow-lg bg-white mt-5 mb-5" id="rules">
    <div class="row mt-5 mb-5"">
        <div class="col mt-5 mb-5">
            <h3 style="color: blue">Rules</h3>
           <ul style="color: blue">
               <li style="color: blue">Click on the black block to increase score.</li>
               <li>The game only end when you click on white block.</li>
               <li>If the tapped color is<span style="color: red"><b> red</b></span> then score will not increase</li>
               <li>The speed of moving blocks increses with time</li>
               <li>Score high and enjoy the game.</li>
           </ul>
        </div>
    </div>
</div>
<div class="container shadow-lg bg-white mt-5 mb-5" style="display: none;" id="show">
    <div class="row mt-5 mb-5"">
        <div class="col mt-5 mb-5"">
            <h2 id="score" style="text-align: center;"></h2> 
            <h2 style="text-align: right;color: green">High Score : 271</h2> 
            <button class="btn btn-warning float-left mt-2 ml-2 mb-2" onclick="location.reload();">Reset</button>
        </div>
    </div>

</div>
<footer>
  <div class="container bg-white shadow-l">
    <div class="row">
      <div class="col-sm-6">
        <p style="text-align: center;"> E-mail : yashallendms@gmail.com</p>
      </div>
      <div class="col-sm-6 mb-3" style="text-align: center;">
         &copy;  All rights are reserved.
      </div>
    </div>
  </div>
</footer>
 <script type="text/javascript">
        var i,j;
        var temp = 0;
        var temp3;
        var temp2;
        var temp1;
        var speed = 30;
        var score = 0;
        var  mov =0;
        var count  = 0;
        var countt = 0;
        var time = 0;
    
        function check(box)
    {
        var element = "move_box" + box;
        var elem = document.getElementById(element);
        var theCSSprop = window.getComputedStyle(elem, null).getPropertyValue("background-color");


        if(theCSSprop =="rgb(255, 255, 255)")
        {
            elem.style.backgroundColor = "red";
            document.getElementById("tap").style.display = "none";
            document.getElementById("rules").style.display = "none";
            document.getElementById("show").style.display = "block";
            document.getElementById("score").innerHTML = "Your Score :" + score;
            document.getElementById("p").innerHTML = "Its Black Color";
        }
        else if(theCSSprop == "rgb(0, 0, 0)")
        {
            score++;
            elem.style.backgroundColor = "red";
            document.getElementById("p").innerHTML = "Score : " + score; 
        }
    }
    function up_box(){
        mov = mov-1// decreasing mov everytime the function up_box called.   
        if(mov == -1)
        {

            if(countt==1)
            {
                for(i=13;i<=16;i++)
                        {
                            var l5 = "move_box"+i;
                            document.getElementById(l5).style.backgroundColor="white";
                        }
            
                        var line4 = temp4-4;
                        var box4 = "move_box" + line4;
                        temp3 = temp4-4;
                        document.getElementById(box4).style.backgroundColor="black";
            }
            
            else if(countt==2)
            {
                 for(i=9;i<=12;i++)
                        {
                            var l5 = "move_box"+i;
                            document.getElementById(l5).style.backgroundColor="white";
                        }
            
                        var line3 = temp3-4;
                        temp2=temp3 - 4;
                        var box3 = "move_box" + line3;
                        document.getElementById(box3).style.backgroundColor="black";

                    for(i=13;i<=16;i++)
                        {
                            var l5 = "move_box"+i;
                            document.getElementById(l5).style.backgroundColor="white";
                        }
            
                        var line4 = temp4-4;
                        var box4 = "move_box" + line4;
                        temp3 = temp4 -4;
                        document.getElementById(box4).style.backgroundColor="black";


            }
            else if(countt==3)
            {
                 for(i=5;i<=8;i++)
                        {
                            var l5 = "move_box"+i;
                            document.getElementById(l5).style.backgroundColor="white";
                        }
            
                        var line2 = temp2 - 4;
                        temp1=temp2- 4;
                        var box2 = "move_box" + line2;
                        document.getElementById(box2).style.backgroundColor="black";

                for(i=9;i<=12;i++)
                        {
                            var l5 = "move_box"+i;
                            document.getElementById(l5).style.backgroundColor="white";
                        }
            
                        var line3 = temp3-4;
                        temp2=temp3 - 4;
                        var box3 = "move_box" + line3;
                        document.getElementById(box3).style.backgroundColor="black";

                    for(i=13;i<=16;i++)
                        {
                            var l5 = "move_box"+i;
                            document.getElementById(l5).style.backgroundColor="white";
                        }
            
                        var line4 = temp4-4;
                        var box4 = "move_box" + line4;
                        temp3 = temp4 -4;
                        document.getElementById(box4).style.backgroundColor="black";

                    
            }
            else if(countt==4)
            {
                for(i=1;i<=4;i++)
                        {
                            var l5 = "move_box"+i;
                            document.getElementById(l5).style.backgroundColor="white";
                        }
            
                        var line1 = temp1-4;
                        var box1 = "move_box" + line1;
                        document.getElementById(box1).style.backgroundColor="black";

                for(i=5;i<=8;i++)
                        {
                            var l5 = "move_box"+i;
                            document.getElementById(l5).style.backgroundColor="white";
                        }
            
                        var line2 = temp2-4;
                        temp1=temp2-4;
                        var box2 = "move_box" + line2;
                        document.getElementById(box2).style.backgroundColor="black";

                        for(i=9;i<=12;i++)
                        {
                            var l5 = "move_box"+i;
                            document.getElementById(l5).style.backgroundColor="white";
                        }
            
                        var line3 = temp3-4;
                        temp2=temp3-4;
                        var box3 = "move_box" + line3;
                        document.getElementById(box3).style.backgroundColor="black";


                    for(i=13;i<=16;i++)
                        {
                            var l5 = "move_box"+i;
                            document.getElementById(l5).style.backgroundColor="white";
                        }
            
                        var line4 = temp4-4;
                        var box4 = "move_box" + line4;
                        temp3 = temp4-4;
                        document.getElementById(box4).style.backgroundColor="black";

                        countt=3;
            }

            for(i=17;i<=20;i++)
                        {
                            var l5 = "move_box"+i;
                            document.getElementById(l5).style.backgroundColor="white";
                        }
                        var line5 =Math.floor(Math.random() * (20 - 17 + 1) ) + 17 ;
                        var box5 = "move_box"+line5;
                        temp4 = line5;
                        document.getElementById(box5).style.backgroundColor="black";
            countt++;
        }
        //Loop for all 20 boxes 
        for( i=1; i<=20; i++)
        {
            
            if(mov==-90)// setting postion of all boxes to 0 after moving 90px up.
            {
                mov=0;
            }
            var y = "move_box"+i;
            document.getElementById(y).style.transform = "translate(0px,"+mov+"px)";
        }    
}
        function start(){
        var s = setInterval(function ()
        {
            time++;
            speed = 60-time;
            var t = setInterval(up_box,speed);
            if(time >50)
            {
                speed = 1;
                var t = setInterval(up_box,speed);
            }
        },5000);
        var t = setInterval(up_box,speed);
}

        // Function for assigning value of margin left and top of each box through loop
        function boxes(){
            var a =0;
            var i;
            var j;
        for( i=0; i<=4; i++)
        {
            for( j=0;j<=3;j++)
            {
                a++;
                var y = "move_box"+a;
                var pos_x = j*75;
                var pos_y = i*90;
                document.getElementById(y).style.marginLeft = pos_x + "px";
                document.getElementById(y).style.marginTop = pos_y + "px";
            }
        }

    }
    </script>


    


    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper)
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    -->

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
    
  </body>
</html>